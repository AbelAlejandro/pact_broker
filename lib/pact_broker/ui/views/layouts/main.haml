- require "pact_broker/version"

<!DOCTYPE html>
%html
  %head
    %title= defined?(title) ? title : ""
    %link{rel: 'shortcut icon', href: "#{base_url}/images/favicon.ico", type:'image/x-icon'}
    %link{rel: 'stylesheet', href: "#{base_url}/css/bootstrap.min.css"}
    %script{type: 'text/javascript', src:"#{base_url}/javascripts/jquery-3.5.1.min.js"}
    %script{type: 'text/javascript', src:"#{base_url}/js/bootstrap.bundle.min.js"}

    %script{src: "https://www.googletagmanager.com/gtag/js?id=G-8FXQVWRL0P", async: true}
    %script

    :javascript
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-8FXQVWRL0P', {
        'send_page_view', false,
        'custom_map': { 'dimension1': 'pact_broker_version' }
      });

      gtag('event', 'page_view', { 'pact_broker_version': '#{PactBroker::VERSION}' });

  != yield
